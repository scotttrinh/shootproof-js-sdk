{"version":3,"file":"shootproof.es.js","sources":["../node_modules/whatwg-fetch/fetch.js","../src/utils/object-to-form-data.js","../src/utils/check-status.js","../src/token.js","../src/lib.js","../src/studio.js","../src/event.js"],"sourcesContent":["(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","import { forEach } from 'lodash-es/forEach';\n/**\n * Convert a plain JavaScript object into FormData\n *\n * @param obj Object Source object\n * @return FormData FormData\n */\nexport default function objectToFormData(obj) {\n  const fd = new FormData();\n  forEach((val, key) => {\n    fd.append(key, val);\n  }, obj);\n  return fd;\n}\n","/**\n * Throw an error for non 2xx status\n *\n * @param response Object Response from whatwg-fetch request\n */\nexport default function checkStatus(response) {\n  let error;\n  if (response.status >= 300) {\n    error = new Error(response.statusText);\n    error.response = response;\n    throw error;\n  } else {\n    return response;\n  }\n}\n","let accessToken = '';\nlet refreshToken = '';\n\n/**\n * Set access token\n *\n * @param token String Token string\n */\nfunction setAccessToken(token) {\n  accessToken = token;\n}\n\n/**\n * Get access token\n *\n * @return String Access token string\n */\nfunction getAccessToken() {\n  return accessToken;\n}\n\n/**\n * Set refresh token\n *\n * @param token String Token string\n */\nfunction setRefreshToken(token) {\n  refreshToken = token;\n}\n\n/**\n * Get refresh token\n *\n * @return String Refresh token string\n */\nfunction getRefreshToken() {\n  return refreshToken;\n}\n\nexport {\n  getAccessToken,\n  setAccessToken,\n  getRefreshToken,\n  setRefreshToken,\n};\n","import queryString from 'query-string';\nimport merge from 'lodash-es/merge';\nimport isEmpty from 'lodash-es/isEmpty';\nimport { checkStatus, objectToFormData } from './utils';\nimport { getAccessToken } from './token';\n\nconst baseEndPoint = 'https://api.shootproof.com/v2';\n\n/**\n * Method to make the request to the API\n *\n * @param params Object Parameters including access token, etc.\n * @param photos Object Photos\n * @return Promise Promise containing JSON. Will throw an\n *   error if the status code is >= 300.\n */\nfunction makeRequest(url, params = {}, photos = {}) {\n  let _params = merge({}, params);\n  /* eslint-disable quote-props */\n  const headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/x-www-form-urlencoded',\n    'X-WRAPPER': 'js-1.0.0',\n  };\n  /* eslint-enable quote-props */\n  if (!isEmpty(photos)) {\n    _params = merge(_params, photos);\n  }\n  return fetch(url, {\n    method: 'POST',\n    headers,\n    body: objectToFormData(_params),\n  })\n    .then(checkStatus)\n    .then(response => response.json());\n}\n\n/**\n * Wrapper that adds access token to parameters\n *\n * @param params Object Parameters including access token, etc.\n * @param photos Object Photos\n * @return Object JSON response\n */\nfunction makeApiRequest(params = {}, photos = {}) {\n  const _params = merge(params, {\n    access_token: getAccessToken,\n  });\n  return makeRequest(baseEndPoint, _params, photos);\n}\n\n/**\n * Build the URL for the given path and parameters\n *\n * @param path String (optional) The path\n * @param params Object (optional) The query parameters\n * @return String The URL for the given parameters\n */\nfunction getUri(path = '', params = {}) {\n  return path + queryString.stringify(params);\n}\n\nexport {\n  makeApiRequest,\n  makeRequest,\n  getUri,\n};\n","import { makeApiRequest } from './lib';\n\n/**\n * Method to return studio information\n *\n * @return Promise Fetch response\n */\nfunction getStudioInfo() {\n  return makeApiRequest({\n    method: 'sp.studio.info',\n  });\n}\n\n/**\n * Method to set a studio setting\n *\n * @param key String Setting name\n * @param val String Setting value\n * @return Promise Fetch response\n */\nfunction setStudioSetting(key, val) {\n  return makeApiRequest({\n    method: 'sp.studio.set_setting',\n    setting_key: key,\n    setting_value: val,\n  });\n}\n\n/**\n * Method to get a studio setting\n *\n * @param key String Setting name\n * @return Promise Fetch response\n */\nfunction getStudioSetting(key) {\n  return makeApiRequest({\n    method: 'sp.studio.get_setting',\n    setting_key: key,\n  });\n}\n\nexport {\n  getStudioInfo,\n  setStudioSetting,\n  getStudioSetting,\n};\n","import isEmpty from 'lodash-es/isEmpty';\nimport isUndefined from 'lodash-es/isUndefined';\nimport { makeApiRequest } from './lib';\n\n/**\n * Method to return all open events for a studio\n *\n * @param brandId Number (optional) Brand ID to retrieve list for.\n * @return Promise Fetch response\n */\nfunction getEvents(brandId) {\n  const params = {\n    method: 'sp.event.get_list',\n  };\n  if (!isUndefined(brandId)) {\n    params.brandId = brandId;\n  }\n  return makeApiRequest(params);\n}\n\n/**\n * Method to create a new event\n *\n * @param name String Event name\n * @param brandId String (optional) Brand ID\n * @param date String (optional) Event date as ISO8601 date string\n * @return Promise Fetch response\n */\nfunction createEvent(name, brandId, date) {\n  if (isUndefined(name)) {\n    throw new Error('You must set the name for a new event');\n  }\n  const params = {\n    method: 'sp.event.create',\n    event_name: name,\n  };\n  if (!isUndefined(brandId)) {\n    params.brand_id = brandId;\n  }\n  if (!isUndefined(date)) {\n    params.event_date = date;\n  }\n  return makeApiRequest(params);\n}\n\n/**\n * Method to delete an event\n *\n * @param eventId Number Event ID to delete\n * @return Promise Fetch response\n */\nfunction deleteEvent(eventId) {\n  if (isUndefined(eventId)) {\n    throw new Error('You must supply an event ID if you wish to delete an event');\n  }\n\n  return makeApiRequest({\n    method: 'sp.event.delete',\n    event_id: eventId,\n  });\n}\n\n/**\n * Method to check if a photo exists in an event\n *\n * @param eventId Number Event ID\n * @param photoFileName String Photo file name\n * @return Promise Fetch response\n */\nfunction photoExistsInEvent(eventId, photoFileName) {\n  if (isUndefined(eventId) || isUndefined(photoFileName)) {\n    throw new Error('You must provide an event ID and photo filename');\n  }\n  return makeApiRequest({\n    method: 'sp.event.photo_exists',\n    event_id: eventId,\n    photo_name: photoFileName,\n  });\n}\n\n/**\n * Method to set the event access level and password\n *\n * @param eventId Number Event ID\n * @param accessLevel String Access Level string\n * @param password String (optional) Event password\n * @return Promise Fetch response\n */\nfunction setEventAccessLevel(eventId, accessLevel, password) {\n  if (isUndefined(eventId) || isUndefined(accessLevel)) {\n    throw new Error('You must define an event ID and an access level');\n  }\n\n  const params = {\n    method: 'sp.event.set_access_level',\n    event_id: eventId,\n    access_level: accessLevel,\n  };\n\n  if (!isEmpty(password)) {\n    params.password = password;\n  }\n\n  return makeApiRequest(params);\n}\n\n/**\n * Method to get photos for an event\n *\n * @param eventId Number Event ID\n * @param page Number Page number\n * @return Promise Fetch response\n */\nfunction getEventPhotos(eventId, page) {\n  if (isUndefined(eventId)) {\n    throw new Error('You must define an event ID');\n  }\n\n  return makeApiRequest({\n    method: 'sp.event.get_photos',\n    event_id: eventId,\n    page,\n  });\n}\n\nexport {\n  getEvents,\n  createEvent,\n  deleteEvent,\n  photoExistsInEvent,\n  setEventAccessLevel,\n  getEventPhotos,\n};\n"],"names":[],"mappings":"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"}